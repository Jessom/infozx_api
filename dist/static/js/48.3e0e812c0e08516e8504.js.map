{"version":3,"sources":["webpack:///src/components/TimeAxis/WeekCalendar.vue","webpack:///./src/components/TimeAxis/WeekCalendar.vue?4441","webpack:///./src/components/TimeAxis/WeekCalendar.vue","webpack:///src/views/components/timeAxis/weekCalendar.vue","webpack:///./src/views/components/timeAxis/weekCalendar.vue?2118","webpack:///./src/views/components/timeAxis/weekCalendar.vue"],"names":["WeekCalendar","data","list","select","curYear","Date","getFullYear","curMonth","getMonth","curDay","getDate","props","actived","type","Array","default","mounted","self","this","sw","Swiper","initialSlide","initList","on","switchWeek","activeIndex","mui","e","$emit","year","getAttribute","month","day","text","flag","watch","val","d","curWeek","preWeek","getTime","nexWeek","removeAllSlides","render","methods","cur","date","p","n","index","arguments","length","undefined","time","reckonWeek","unshift","push","ind","arr","html","addSlide","appendSlide","prependSlide","_this","getDay","str","format","i","_d","setDate","_i","_d2","forEach","c","v","cc","vv","m","TimeAxis_WeekCalendar","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","directives","name","rawName","value","expression","attrs","domProps","input","$event","target","composing","_m","staticRenderFns","weekCalendar","created","setTimeout","$refs","calendar","click","item","console","log","components","__webpack_require__","normalizeComponent","ssrContext","timeAxis_weekCalendar","ref","weekCalendar_Component","weekCalendar_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/48.3e0e812c0e08516e8504.js","sourcesContent":["<!-- \r\n  这里没有使用vue的双向绑定，用的是传统的dom操作\r\n  使用数据驱动的话，向list中push数据，swiper无法重新计算大小(swiper.update()也不行)\r\n  这里改用了swiper.addSlide()方法\r\n-->\r\n\r\n<template>\r\n\t<div class=\"z-week-calendar-wrap\">\r\n\t\t<div class=\"z-calendar-head\">\r\n      <div class=\"z-calendar-month mui-text-center\">\r\n        {{curYear}}年{{curMonth}}月\r\n        <input type=\"date\" class=\"select\" name=\"\" v-model='select'>\r\n      </div>\r\n\t\t\t<ul class=\"z-calendar-week mui-clearfix\">\r\n        <li>一</li>\r\n        <li>二</li>\r\n        <li>三</li>\r\n        <li>四</li>\r\n        <li>五</li>\r\n        <li>六</li>\r\n\t\t\t\t<li>日</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n    <div class=\"z-calendar-body swiper-container\">\r\n      <ul class=\"z-calendar-content mui-clearfix swiper-wrapper\">\r\n        <!-- <li\r\n          class=\"swiper-slide\"\r\n          v-for='(item, ind) in list'\r\n          :key='ind'>\r\n          <span\r\n            class=\"z-item\"\r\n            v-for='(i, inde) in item'\r\n            :key='inde'>\r\n            <span\r\n              class=\"z-item-wrap\"\r\n              :data-year='i.year'\r\n              :data-month='i.month'\r\n              @tap='$emit(\"click\", i)'\r\n              :class='{\"active\": new Date().getFullYear()==i.year&&new Date().getMonth()+1==i.month&&new Date().getDate()==i.day}'>\r\n              {{i.day}}\r\n              <i v-if='i.flag' class='z-pointer' :class='i.flag'></i>\r\n            </span>\r\n          </span>\r\n        </li> -->\r\n      </ul>\r\n    </div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n// import 'swiper/dist/css/swiper.min.css'\r\n// import Swiper from 'swiper'\r\nexport default {\r\n  data() {\r\n    return {\r\n      list: [],    // 配合swiper的addSlide使用\r\n\r\n      select: '',\r\n      curYear: new Date().getFullYear(),    // 当前年\r\n      curMonth: new Date().getMonth()+1,      // 当前月\r\n      curDay: new Date().getDate(),        // 当前日期\r\n    }\r\n  },\r\n  props: {\r\n    actived: {\r\n      type: Array,\r\n      default: function() { return [] }\r\n    },\r\n    /*options: {\r\n      type: Object,\r\n      default: function() { return {} }\r\n    }*/\r\n  },\r\n  /*computed: {\r\n    opt() {\r\n      let opt = {}\r\n      return mui.extend({}, opt, this.options)\r\n    }\r\n  },*/\r\n  mounted() {\r\n    const self = this\r\n    this.sw = new Swiper('.swiper-container', { initialSlide: 1 })\r\n\r\n    this.initList(null)\r\n\r\n    this.sw.on('slidePrevTransitionStart', function() {\r\n      self.switchWeek(this.activeIndex, 'pre')\r\n    })\r\n\r\n    this.sw.on('slideNextTransitionStart', function() {\r\n      self.switchWeek(this.activeIndex, 'nex')\r\n    })\r\n\r\n    mui('.z-calendar-content').on('tap', '.z-item-wrap', function(e) {\r\n      self.$emit('click', {\r\n        year: this.getAttribute('data-year'),\r\n        month: this.getAttribute('data-month'),\r\n        day: this.getAttribute('data-day'),\r\n        text: this.getAttribute('data-text'),\r\n        flag: this.getAttribute('data-flag'),\r\n      })\r\n    })\r\n  },\r\n  watch: {\r\n    select(val) {\r\n      let d = new Date(val)\r\n      this.curYear = d.getFullYear()\r\n      this.curMonth = d.getMonth() + 1\r\n      this.curDay = d.getDate()\r\n\r\n      // 计算本周，上周，下周日期\r\n      let curWeek = this.getDate(d)\r\n      let preWeek = this.getDate(d.getTime() - 1000 * 60 * 60 * 24 *7)\r\n      let nexWeek = this.getDate(d.getTime() + 1000 * 60 * 60 * 24 * 7)\r\n\r\n      // 重置list数据\r\n      this.list = [preWeek, curWeek, nexWeek]\r\n\r\n      // 清除所有slide\r\n      this.sw.removeAllSlides()\r\n\r\n      // 渲染数据\r\n      this.render(0, curWeek)\r\n      this.render(1, preWeek, 'prepend')\r\n      this.render(2, nexWeek, 'append')\r\n    }\r\n  },\r\n\tmethods: {\r\n    // 初始化日期\r\n    initList(cur) {\r\n      // 清空数据\r\n      this.sw.removeAllSlides()\r\n      this.list = []\r\n\r\n      let date = cur ? new Date(cur) : new Date()\r\n      this.curYear = date.getFullYear()\r\n      this.curMonth = date.getMonth() + 1\r\n      this.curDay = date.getDate()\r\n\r\n      // 获取本周、下周、上周日期\r\n      let d = this.getDate(date)\r\n      let p = this.getDate(date.getTime() - 1000 * 60 * 60 * 24 * 7)\r\n      let n = this.getDate(date.getTime() + 1000 * 60 * 60 * 24 * 7)\r\n\r\n      this.list = [p, d, n]\r\n      /*this.list.push(d)\r\n      this.list.unshift(p)\r\n      this.list.push(n)*/\r\n\r\n      // 渲染数据\r\n      this.render(0, d)\r\n      this.render(1, p, 'prepend')\r\n      this.render(2, n, 'append')\r\n    },\r\n    // 切换周\r\n    switchWeek(index, flag='pre') {\r\n      let d = flag === 'pre' ? this.list[index][0].time : this.list[index][6].time\r\n      this.curYear = d.getFullYear()\r\n      this.curMonth = d.getMonth() + 1\r\n      this.curDay = d.getDate()\r\n      if(flag === 'pre' && index === 0) {\r\n        // 上周\r\n        this.reckonWeek(d, 'pre')\r\n      } else if(flag === 'nex' && this.list.length-1 === index) {\r\n        // 下周\r\n        this.reckonWeek(d, 'nex')\r\n      }\r\n    },\r\n    // 计算当前周的日期\r\n    reckonWeek(d, flag='pre') {\r\n      let date = flag === 'pre' ? d.getTime() - 1000 * 60 * 60 * 24 * 7 : d.getTime() + 1000 * 60 * 60 * 24 * 7\r\n      let index = flag === 'pre' ? 0 : this.list.length\r\n      this.render(index, this.getDate(date))\r\n      flag === 'pre' ? this.list.unshift(this.getDate(date)) : this.list.push(this.getDate(date))\r\n    },\r\n    // 顾使用addSlide方法，添加dom元素\r\n    render(ind, arr, flag='default') {\r\n      let html = `\r\n        <li class=\"swiper-slide\">\r\n          <span class=\"z-item\">\r\n            <span\r\n              class=\"z-item-wrap ${\r\n                new Date().getFullYear()==arr[0].year&&\r\n                new Date().getMonth()+1==arr[0].month&&\r\n                new Date().getDate() == arr[0].day ? 'active' : ''\r\n              }\"\r\n              data-year='${arr[0].year}'\r\n              data-month='${arr[0].month}'\r\n              data-day='${arr[0].day}'\r\n              data-text='${arr[0].text}'\r\n              data-flag='${arr[0].flag?arr[0].flag:\"\"}'>\r\n            ${arr[0].day}\r\n            <i style=\"display: ${arr[0].flag ? 'inline-block':'none'}\" class='z-pointer ${arr[0].flag}'></i>\r\n          </span>\r\n          </span>\r\n          <span class=\"z-item\">\r\n            <span\r\n              class=\"z-item-wrap ${\r\n                new Date().getFullYear()==arr[1].year&&\r\n                new Date().getMonth()+1==arr[1].month&&\r\n                new Date().getDate() == arr[1].day ? 'active' : ''\r\n              }\"\r\n              data-year='${arr[1].year}'\r\n              data-month='${arr[1].month}'\r\n              data-day='${arr[1].day}'\r\n              data-text='${arr[1].text}'\r\n              data-flag='${arr[1].flag?arr[1].flag:\"\"}'>\r\n            ${arr[1].day}\r\n            <i style=\"display: ${arr[1].flag ? 'inline-block':'none'}\" class='z-pointer ${arr[1].flag}'></i>\r\n          </span>\r\n          </span>\r\n          <span class=\"z-item\">\r\n            <span\r\n              class=\"z-item-wrap ${\r\n                new Date().getFullYear()==arr[2].year&&\r\n                new Date().getMonth()+1==arr[2].month&&\r\n                new Date().getDate() == arr[2].day ? 'active' : ''\r\n              }\"\r\n              data-year='${arr[2].year}'\r\n              data-month='${arr[2].month}'\r\n              data-day='${arr[2].day}'\r\n              data-text='${arr[2].text}'\r\n              data-flag='${arr[2].flag?arr[2].flag:\"\"}'>\r\n            ${arr[2].day}\r\n            <i style=\"display: ${arr[2].flag ? 'inline-block':'none'}\" class='z-pointer ${arr[2].flag}'></i>\r\n          </span>\r\n          </span>\r\n          <span class=\"z-item\">\r\n            <span\r\n              class=\"z-item-wrap ${\r\n                new Date().getFullYear()==arr[3].year&&\r\n                new Date().getMonth()+1==arr[3].month&&\r\n                new Date().getDate() == arr[3].day ? 'active' : ''\r\n              }\"\r\n              data-year='${arr[3].year}'\r\n              data-month='${arr[3].month}'\r\n              data-day='${arr[3].day}'\r\n              data-text='${arr[3].text}'\r\n              data-flag='${arr[3].flag?arr[3].flag:\"\"}'>\r\n            ${arr[3].day}\r\n            <i style=\"display: ${arr[3].flag ? 'inline-block':'none'}\" class='z-pointer ${arr[3].flag}'></i>\r\n          </span>\r\n          </span>\r\n          <span class=\"z-item\">\r\n            <span\r\n              class=\"z-item-wrap ${\r\n                new Date().getFullYear()==arr[4].year&&\r\n                new Date().getMonth()+1==arr[4].month&&\r\n                new Date().getDate() == arr[4].day ? 'active' : ''\r\n              }\"\r\n              data-year='${arr[4].year}'\r\n              data-month='${arr[4].month}'\r\n              data-day='${arr[4].day}'\r\n              data-text='${arr[4].text}'\r\n              data-flag='${arr[4].flag?arr[4].flag:\"\"}'>\r\n            ${arr[4].day}\r\n            <i style=\"display: ${arr[4].flag ? 'inline-block':'none'}\" class='z-pointer ${arr[4].flag}'></i>\r\n          </span>\r\n          </span>\r\n          <span class=\"z-item\">\r\n            <span\r\n              class=\"z-item-wrap ${\r\n                new Date().getFullYear()==arr[5].year&&\r\n                new Date().getMonth()+1==arr[5].month&&\r\n                new Date().getDate() == arr[5].day ? 'active' : ''\r\n              }\"\r\n              data-year='${arr[5].year}'\r\n              data-month='${arr[5].month}'\r\n              data-day='${arr[5].day}'\r\n              data-text='${arr[5].text}'\r\n              data-flag='${arr[5].flag?arr[5].flag:\"\"}'>\r\n            ${arr[5].day}\r\n            <i style=\"display: ${arr[5].flag ? 'inline-block':'none'}\" class='z-pointer ${arr[5].flag}'></i>\r\n          </span>\r\n          </span>\r\n          <span class=\"z-item\">\r\n            <span\r\n              class=\"z-item-wrap ${\r\n                new Date().getFullYear()==arr[6].year&&\r\n                new Date().getMonth()+1==arr[6].month&&\r\n                new Date().getDate() == arr[6].day ? 'active' : ''\r\n              }\"\r\n              data-year='${arr[6].year}'\r\n              data-month='${arr[6].month}'\r\n              data-day='${arr[6].day}'\r\n              data-text='${arr[6].text}'\r\n              data-flag='${arr[6].flag?arr[6].flag:\"\"}'>\r\n            ${arr[6].day}\r\n            <i style=\"display: ${arr[6].flag ? 'inline-block':'none'}\" class='z-pointer ${arr[6].flag}'></i>\r\n          </span>\r\n          </span>\r\n        </li>\r\n      `\r\n      // ind === 0 ? this.sw.prependSlide(html) : this.sw.appendSlide(html)\r\n      // this.sw.addSlide(ind, html)\r\n      flag === 'default' ? this.sw.addSlide(ind, html) : (flag === 'append' ? this.sw.appendSlide(html) : this.sw.prependSlide(html))\r\n    },\r\n\r\n    // 计算日期\r\n    getDate(date) {\r\n      let d = new Date(date)\r\n      let year = d.getFullYear()\r\n      let month = d.getMonth() + 1\r\n      let day = d.getDate()\r\n      let curWeek = d.getDay() === 0 ? 7 : d.getDay()\r\n\r\n      const str = this.format(year, month, day)\r\n      let arr = []\r\n\r\n      for(let i=curWeek-1;  i>=0; i--) {\r\n        const d = new Date(str)\r\n        d.setDate(d.getDate() - i)\r\n        arr.push({\r\n          time: d,\r\n          year: d.getFullYear(),\r\n          month: d.getMonth() + 1,\r\n          day: d.getDate(),\r\n          text: this.format(d.getFullYear(), d.getMonth() +1, d.getDate())\r\n        })\r\n      }\r\n\r\n      for(let i=1; i<=7-curWeek; i++) {\r\n        const d = new Date(str)\r\n        d.setDate(d.getDate() + i)\r\n        arr.push({\r\n          time: d,\r\n          year: d.getFullYear(),\r\n          month: d.getMonth() + 1,\r\n          day: d.getDate(),\r\n          text: this.format(d.getFullYear(), d.getMonth() +1, d.getDate())\r\n        })\r\n      }\r\n\r\n      arr.forEach(c => {\r\n        this.actived.forEach(v => {\r\n          let cc = c.time\r\n          let vv = new Date(v.time)\r\n          if(cc.getFullYear() === vv.getFullYear() && cc.getMonth() === vv.getMonth() && cc.getDate() === vv.getDate()) {\r\n            c['flag'] = v.flag\r\n          }\r\n        })\r\n      })\r\n      return arr\r\n    },\r\n    // 格式化日期\r\n    format(year, month, day) {\r\n      const y = year\r\n      let m = month\r\n      if (m < 10) m = `0${m}`\r\n      let d = day\r\n      if (d < 10) d = `0${d}`\r\n      return `${y}-${m}-${d}`\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n@import 'static/common/scss/style.scss';\r\n$pSize: 6px;  // 小圆点大小\r\n$iSize: 30px; // 渲染大小\r\n.z-week-calendar-wrap {\r\n  background-color: #fff;\r\n  padding-bottom: 10px;\r\n  .z-calendar-head {\r\n    .z-calendar-month {\r\n      padding: 10px 0 3px;\r\n      position: relative;\r\n      color: #999;\r\n      input.select {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 2;\r\n        background-color: transparent;\r\n        color: transparent;\r\n        border: 0;\r\n        margin: 0;\r\n      }\r\n    }\r\n    .z-month {\r\n      margin: 0;\r\n      border: 0;\r\n      text-align: center;\r\n    }\r\n  }\r\n\r\n  .z-calendar-week, .z-calendar-content {\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  .z-calendar-week { color: #999; padding-top: 10px; padding-bottom: 5px; }\r\n  .z-calendar-week li, .z-calendar-content .z-item {\r\n    float: left;\r\n    width: calc(100% / 7);\r\n    text-align: center;\r\n    display: inline-block;\r\n  }\r\n  .z-calendar-content {\r\n    .z-item-wrap {\r\n      display: inline-block;\r\n      width: $iSize;\r\n      height: $iSize;\r\n      line-height: $iSize - 4;\r\n      border-radius: 50%;\r\n      color: #666;\r\n      position: relative;\r\n      &.active {\r\n        color: #fff;\r\n        background-color: $baseColor;\r\n        .z-pointer {\r\n          background-color: #fff;\r\n        }\r\n      }\r\n    }\r\n    .z-pointer {\r\n      display: inline-block;\r\n      width: $pSize;\r\n      height: $pSize;\r\n      border-radius: 50%;\r\n      position: absolute;\r\n      bottom: 4px;\r\n      left: 50%;\r\n      margin-left: -$pSize / 2;\r\n    }\r\n  }\r\n\r\n  .success { background-color: #67C23A; }\r\n  .warning { background-color: #E6A23C; }\r\n  .danger { background-color: #F56C6C; }\r\n  .info { background-color: #909399; }\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/TimeAxis/WeekCalendar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"z-week-calendar-wrap\"},[_c('div',{staticClass:\"z-calendar-head\"},[_c('div',{staticClass:\"z-calendar-month mui-text-center\"},[_vm._v(\"\\n        \"+_vm._s(_vm.curYear)+\"年\"+_vm._s(_vm.curMonth)+\"月\\n        \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.select),expression:\"select\"}],staticClass:\"select\",attrs:{\"type\":\"date\",\"name\":\"\"},domProps:{\"value\":(_vm.select)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.select=$event.target.value}}})]),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),_vm._m(1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"z-calendar-week mui-clearfix\"},[_c('li',[_vm._v(\"一\")]),_vm._v(\" \"),_c('li',[_vm._v(\"二\")]),_vm._v(\" \"),_c('li',[_vm._v(\"三\")]),_vm._v(\" \"),_c('li',[_vm._v(\"四\")]),_vm._v(\" \"),_c('li',[_vm._v(\"五\")]),_vm._v(\" \"),_c('li',[_vm._v(\"六\")]),_vm._v(\" \"),_c('li',[_vm._v(\"日\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"z-calendar-body swiper-container\"},[_c('ul',{staticClass:\"z-calendar-content mui-clearfix swiper-wrapper\"})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ffb1274\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/TimeAxis/WeekCalendar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1ffb1274\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./WeekCalendar.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./WeekCalendar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./WeekCalendar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ffb1274\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./WeekCalendar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/TimeAxis/WeekCalendar.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div class=\"container\">\r\n\t\t<week-calendar\r\n\t\t\t:actived='list'\r\n\t\t\t@click='click'\r\n\t\t\tref='calendar' />\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport WeekCalendar from '@/components/TimeAxis/WeekCalendar.vue'\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tlist: []\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.list = [{\r\n\t\t\t\ttime: '2018-07-30',\r\n\t\t\t\tflag: 'info'\r\n\t\t\t}, {\r\n\t\t\t\ttime: '2018-07-31',\r\n\t\t\t\tflag: 'success'\r\n\t\t\t}, {\r\n\t\t\t\ttime: '2018-08-01',\r\n\t\t\t\tflag: 'danger'\r\n\t\t\t}, {\r\n\t\t\t\ttime: '2018-08-02',\r\n\t\t\t\tflag: 'warning'\r\n\t\t\t}, {\r\n\t\t\t\ttime: '2018-08-08',\r\n\t\t\t\tflag: 'danger'\r\n\t\t\t}, {\r\n\t\t\t\ttime: '2018-08-15',\r\n\t\t\t\tflag: 'danger'\r\n\t\t\t}]\r\n\r\n\t\t\tsetTimeout(() => this.$refs.calendar.initList(null), 0)\r\n\t\t}, 1500)\r\n\t},\r\n\tmethods: {\r\n\t\tclick(item) {\r\n\t\t\tconsole.log(item)\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tWeekCalendar\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang='scss'>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/components/timeAxis/weekCalendar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('week-calendar',{ref:\"calendar\",attrs:{\"actived\":_vm.list},on:{\"click\":_vm.click}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-772dce17\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/components/timeAxis/weekCalendar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-772dce17\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./weekCalendar.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./weekCalendar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./weekCalendar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-772dce17\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./weekCalendar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/components/timeAxis/weekCalendar.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}