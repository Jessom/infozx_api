webpackJsonp([52],{"/jE6":function(t,e){},QrFj:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Dd8w"),a=i.n(s),l=i("BO1k"),c=i.n(l),n=i("Gu7T"),r=i.n(n),o=i("MtFl"),u={data:function(){return{searchVal:"",searchRes:[],allStaff:[],active:null,ind:1,actived:[],sp:{id:"z-picker-panel2",style:"bottom"},reading:[],staffs:[],selected:[],level:0}},props:{list:Array,showSearch:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},watch:{list:function(t,e){this.reading=[].concat(r()(t));var i=!0,s=!1,l=void 0;try{for(var n,o=c()(t);!(i=(n=o.next()).done);i=!0){var u=n.value,h=!0,d=!1,v=void 0;try{for(var p,f=c()(u.staff);!(h=(p=f.next()).done);h=!0){var m=p.value;this.allStaff.push(a()({},m,{branch:u.title}))}}catch(t){d=!0,v=t}finally{try{!h&&f.return&&f.return()}finally{if(d)throw v}}var g=!0,_=!1,y=void 0;try{for(var b,w=c()(u.children);!(g=(b=w.next()).done);g=!0){var C=b.value,x=!0,k=!1,S=void 0;try{for(var F,j=c()(C.staff);!(x=(F=j.next()).done);x=!0){var R=F.value;this.allStaff.push(a()({},R,{branch:C.title}))}}catch(t){k=!0,S=t}finally{try{!x&&j.return&&j.return()}finally{if(k)throw S}}}}catch(t){_=!0,y=t}finally{try{!g&&w.return&&w.return()}finally{if(_)throw y}}}}catch(t){s=!0,l=t}finally{try{!i&&o.return&&o.return()}finally{if(s)throw l}}},searchVal:function(t){this.searchRes=[],this.selected=[]}},computed:{opt:function(){return mui.extend(!0,{},{people:!0,toast:"请选中一个人",multi:!0,self:!1},this.options)},scrollTop:function(){return this.showSearch&&0==this.level?"120px":"80px"}},mounted:function(){mui(".z-picker-content").scroll()},methods:{init:function(){this.searchVal="",this.searchRes=[],this.active=null,this.ind=1,this.actived=[],this.reading=[],this.staffs=[],this.selected=[],this.level=0,this.reading=this.list},onCell:function(t,e){void 0!==t&&t.stopPropagation(),this.clearn(),0===this.level&&(this.level=1),this.staffs=e.staff,this.actived.push(e),this.active=e,this.reading=e.children},selectedevent:function(t,e){this.opt.multi?(t.stopPropagation(),t.currentTarget.classList.contains("mui-selected")?(t.currentTarget.classList.remove("mui-selected"),this.selected.splice(this.selected.findIndex(function(t){return t.id===e.id}),1)):(t.currentTarget.classList.add("mui-selected"),this.selected.push(e))):this.selected=e},myself:function(t){this.opt.multi?-1===this.selected.findIndex(function(t){return-666===t.id})&&this.selected.push({id:-666}):this.selected={id:-666}},onMenu:function(t,e,i){var s=this;void 0!==t&&t.stopPropagation(),this.clearn(),this.active=e,this.actived.splice(i+1,this.actived.length-i),this.cdata(this.list,e.id,function(t){s.reading=t.children,s.staffs=t.staff})},menuAll:function(t){void 0!==t&&t.stopPropagation(),this.clearn(),this.level=0,this.active=null,this.actived=[],this.reading=[].concat(r()(this.list)),this.staffs=[]},cdata:function(t,e,i){if(t)for(var s=0,a=t.length;s<a;s++){var l=t[s];l.id===e?i(l):this.cdata(l.children,e,i)}},success:function(){this.opt.people&&this.selected.length<=0?mui.toast(this.opt.toast):(this.$emit("onSuccess",{branch:this.active,staff:this.selected}),this.close())},clearn:function(){this.selected=[],mui(".z-picker-container .mui-selected").each(function(t,e){e.classList.remove("mui-selected")})},close:function(){mui("#z-picker-panel2").popover("toggle"),this.init()},onEntry:function(){var t=!0,e=!1,i=void 0;try{for(var s,a=c()(this.allStaff);!(t=(s=a.next()).done);t=!0){var l=s.value;(l.id===Number(this.searchVal)||l.title.includes(this.searchVal))&&this.searchRes.push(l)}}catch(t){e=!0,i=t}finally{try{!t&&a.return&&a.return()}finally{if(e)throw i}}}},components:{SidePanel:o.a}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"z-picker-container"},[i("side-panel",{attrs:{options:t.sp}},[i("div",{staticClass:"z-picker-head mui-clearfix mui-text-center"},[i("button",{staticClass:"mui-btn mui-pull-left",on:{tap:t.close}},[t._v("取消")]),t._v(" "),i("span",{staticClass:"title mui-ellipsis"},[t._v(t._s(t.active?t.active.title:""))]),t._v(" "),i("button",{staticClass:"mui-btn mui-pull-right base-btn",on:{tap:t.success}},[t._v("确定")])]),t._v(" "),i("div",{staticClass:"z-picker-body"},[i("div",{staticClass:"mui-slider"},[i("div",{staticClass:"mui-scroll-wrapper mui-slider-indicator mui-segmented-control mui-segmented-control-inverted",attrs:{id:"sliderSegmentedControl"}},[i("div",{staticClass:"mui-scroll"},[i("a",{staticClass:"mui-control-item",on:{tap:function(e){t.menuAll(e)}}},[t._v("全部")]),t._v(" "),t._l(t.actived,function(e,s){return i("a",{key:s,staticClass:"mui-control-item",class:{"mui-active":t.active.title===e.title},on:{tap:function(i){t.onMenu(i,e,s)}}},[t._v(t._s(e.title))])})],2)])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showSearch&&0==t.level,expression:"showSearch && level==0"}],staticClass:"z-picker-search-wrap"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],staticClass:"mui-text-left",attrs:{type:"search",placeholder:"请输入用户名或用户id"},domProps:{value:t.searchVal},on:{keyup:function(e){return"button"in e||13===e.keyCode?t.onEntry(e):null},input:function(e){e.target.composing||(t.searchVal=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"z-picker-content mui-scroll-wrapper",style:{top:t.scrollTop}},[i("div",{staticClass:"mui-scroll"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.searchRes.length,expression:"!searchRes.length"}],staticClass:"mui-table-view z-branch-wrap mui-table-view-radio"},[!t.level&&t.opt.self?i("div",{staticClass:"mui-table-view-cell mui-media",on:{tap:function(e){t.myself(e)}}},[i("a",{staticClass:"mui-navigate-right",attrs:{href:"javascript:;"}},[t._v("自己")])]):t._e(),t._v(" "),t._l(t.reading,function(e,s){return e.title?i("div",{key:s,staticClass:"mui-table-view-cell",on:{tap:function(i){t.onCell(i,e)}}},[t._v(t._s(e.title))]):t._e()})],2),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:!t.searchRes.length,expression:"!searchRes.length"}],staticClass:"mui-table-view z-staffs-wrap mui-table-view-radio"},t._l(t.staffs,function(e,s){return i("li",{key:s,staticClass:"mui-table-view-cell mui-media",on:{tap:function(i){t.selectedevent(i,e)}}},[i("a",{staticClass:"mui-navigate-right",attrs:{href:"javascript:;"}},[e.image?i("img",{staticClass:"mui-media-object mui-pull-left",attrs:{src:e.image}}):i("div",{staticClass:"text-wrap"},[t._v(t._s(e.title.slice(0,1)))]),t._v(" "),i("div",{staticClass:"mui-media-body"},[i("span",{staticClass:"title mui-ellipsis"},[t._v(t._s(e.title))]),t._v(" "),i("p",{staticClass:"desc mui-ellipsis"},[t._v(t._s(e.desc))])])])])}),0),t._v(" "),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.searchRes.length,expression:"searchRes.length"}],staticClass:"mui-table-view z-staffs-wrap mui-table-view-radio"},t._l(t.searchRes,function(e,s){return i("li",{key:s,staticClass:"mui-table-view-cell mui-media",on:{tap:function(i){t.selectedevent(i,e)}}},[i("a",{staticClass:"mui-navigate-right",attrs:{href:"javascript:;"}},[e.image?i("img",{staticClass:"mui-media-object mui-pull-left",attrs:{src:e.image}}):i("div",{staticClass:"text-wrap"},[t._v(t._s(e.title.slice(0,1)))]),t._v(" "),i("div",{staticClass:"mui-media-body"},[i("span",{staticClass:"title mui-ellipsis"},[t._v(t._s(e.title)),i("sup",{staticClass:"grey-color ml5"},[t._v(t._s(e.branch))])]),t._v(" "),i("p",{staticClass:"desc mui-ellipsis"},[t._v(t._s(e.desc))])])])])}),0)])])])])],1)},staticRenderFns:[]};var d={data:function(){return{list:[]}},created:function(){var t=this;setTimeout(function(){t.list=[{id:1,title:"安得集团",staff:[],children:[{id:2,title:"设计部",staff:[{id:1,title:"张三",image:"",desc:"设计师"},{id:2,title:"李四",image:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=586574978,3261086036&fm=27&gp=0.jpg",desc:"设计师"}],children:[{id:3,title:"设计一组",staff:[{id:3,title:"王五",image:"",desc:"设计师"}]}]}]},{id:4,title:"中系科技",staff:[],children:[{id:5,title:"市场部",staff:[{id:4,title:"白旭",image:"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1137298932,366992998&fm=27&gp=0.jpg",desc:"市场经理"},{id:5,title:"钱斌",image:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=1810152264,2923293270&fm=27&gp=0.jpg",desc:"业务员"},{id:6,title:"陈德文",image:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=3466222248,28477086&fm=27&gp=0.jpg",desc:"业务员"},{id:7,title:"吴永健",image:"https://ss0.bdstatic.com/70cFvHSh_Q1YnxGkpoWK1HF6hhy/it/u=4184649264,700756858&fm=27&gp=0.jpg",desc:"业务员"}],children:[]},{id:6,title:"研发部",staff:[{id:8,title:"李敏敏",image:"https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=782046930,1105099424&fm=27&gp=0.jpg",desc:"Android工程师"},{id:9,title:"张田田",image:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3349769256,2152079369&fm=27&gp=0.jpg",desc:"IOS工程师"},{id:10,title:"苏霞",image:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=790506092,2369397687&fm=27&gp=0.jpg",desc:"前端工程师"},{id:11,title:"わタし",image:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=2993379943,3296388548&fm=27&gp=0.jpg",desc:"前端工程师"}],children:[]}]}]},500)},methods:{test:function(){mui("#z-picker-panel2").popover("toggle")},onSuccess:function(t){console.log(t)}},components:{PickerSelect2:i("VU/8")(u,h,!1,function(t){i("bdRV")},null,null).exports}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("button",{on:{tap:this.test}},[this._v("测试")]),this._v(" "),e("PickerSelect2",{attrs:{list:this.list},on:{onSuccess:this.onSuccess}})],1)},staticRenderFns:[]};var p=i("VU/8")(d,v,!1,function(t){i("/jE6")},"data-v-1fe4bda2",null);e.default=p.exports},bdRV:function(t,e){}});
//# sourceMappingURL=52.fad01d672e25b60b09ae.js.map