{"version":3,"sources":["webpack:///src/components/Other/Draw.vue","webpack:///./src/components/Other/Draw.vue?41e3","webpack:///./src/components/Other/Draw.vue","webpack:///src/views/other/draw.vue","webpack:///./src/views/other/draw.vue?6aca","webpack:///./src/views/other/draw.vue"],"names":["Draw","data","canvas","ctx","mousePressed","props","options","type","Object","default","computed","opt","mui","extend","background","lineWidth","lineColor","height","this","mounted","lastX","lastY","document","querySelector","width","window","screen","getContext","setBackground","init","methods","self","addEventListener","event","targetTouches","length","preventDefault","touch","draw","pageX","offsetLeft","pageY","offsetTop","x","y","isDown","beginPath","strokeStyle","lineJoin","moveTo","lineTo","closePath","stroke","clear","setTransform","clearRect","save","arguments","undefined","toDataURL","fillStyle","fillRect","Other_Draw","render","_h","$createElement","_c","_self","attrs","id","staticRenderFns","image","$refs","components","__webpack_require__","normalizeComponent","ssrContext","other_draw","_vm","staticClass","ref","_v","directives","name","rawName","value","expression","modifiers","number","domProps","on","input","$event","target","composing","$set","_n","blur","$forceUpdate","tap","src","draw_Component","draw_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/35.15c8ecac8cd4514dea34.js","sourcesContent":["<template>\r\n  <div>\r\n    <canvas id='canvas' :height=\"opt.height\"></canvas>\r\n  </div>\r\n</template>\r\n \r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      canvas: null,\r\n      ctx: null,\r\n      mousePressed: false,\r\n    }\r\n  },\r\n  props: {\r\n    options: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  computed: {\r\n    opt() {\r\n      let opt = {\r\n        background: '#fff',\r\n        lineWidth: 1,\r\n        lineColor: '#000000',\r\n        height: 200\r\n      }\r\n      return mui.extend({}, opt, this.options)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.lastX, this.lastY\r\n    this.canvas = document.querySelector('#canvas')\r\n    this.canvas.width = window.screen.width\r\n    this.ctx = this.canvas.getContext('2d')\r\n    this.setBackground();\r\n    this.init()\r\n  },\r\n  methods:{\r\n    init() {\r\n      const self = this\r\n      // 点击屏幕\r\n      self.canvas.addEventListener('touchstart', function (event) {\r\n        if (event.targetTouches.length == 1) {\r\n          event.preventDefault();\r\n          const touch = event.targetTouches[0];\r\n          self.mousePressed = true;\r\n          self.draw(touch.pageX - this.offsetLeft, touch.pageY - this.offsetTop, false);\r\n        }\r\n      }, false);\r\n\r\n      // 在屏幕上移动\r\n      self.canvas.addEventListener('touchmove', function (event) {\r\n        if (event.targetTouches.length == 1) {\r\n          event.preventDefault();\r\n          const touch = event.targetTouches[0];\r\n          if(self.mousePressed) {\r\n            self.draw(touch.pageX - this.offsetLeft, touch.pageY - this.offsetTop, true);\r\n          }\r\n        }\r\n      }, false);\r\n\r\n      // 手指离开屏幕\r\n      self.canvas.addEventListener('touchend', function (event) {\r\n        if (event.targetTouches.length == 1) {\r\n          event.preventDefault();\r\n          // const touch = event.targetTouches[0];\r\n          self.mousePressed = false;\r\n        }\r\n      }, false);\r\n    },\r\n    // 绘制内容\r\n    draw(x, y, isDown) {\r\n      if(isDown) {\r\n        this.ctx.beginPath();\r\n        this.ctx.strokeStyle = this.opt.lineColor;\r\n        this.ctx.lineWidth = this.lineWidth;\r\n        this.ctx.lineJoin = \"round\";\r\n        this.ctx.moveTo(this.lastX, this.lastY);\r\n        this.ctx.lineTo(x, y);\r\n        this.ctx.closePath();\r\n        this.ctx.stroke();\r\n      }\r\n      this.lastX = x\r\n      this.lastY = y\r\n    },\r\n    // 清除 flag是否渲染提示文字\r\n    clear() {\r\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0);\r\n      this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\r\n      this.setBackground();\r\n    },\r\n    save(type='image/jpeg') {\r\n      // this.image = this.canvas.toDataURL(\"\");\r\n      return this.canvas.toDataURL(type);\r\n    },\r\n    // 绘制canvas背景色\r\n    setBackground() {\r\n      this.ctx.fillStyle = this.opt.background;\r\n      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n    }\r\n  }\r\n}\r\n</script>\r\n \r\n<style lang='scss'>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/Other/Draw.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('canvas',{attrs:{\"id\":\"canvas\",\"height\":_vm.opt.height}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a1b3fbe\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Other/Draw.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6a1b3fbe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Draw.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Draw.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Draw.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a1b3fbe\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Draw.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Other/Draw.vue\n// module id = null\n// module chunks = ","<template lang=\"html\">\r\n  <div class=\"container\">\r\n  \t<draw ref='draw' :options='options' />\r\n  \t<div class=\"mui-input-group\">\r\n  \t\t<div class=\"mui-input-row\">\r\n  \t\t\t<label>线条粗细</label>\r\n  \t\t\t<input type=\"number\" v-model.number='options.lineWidth'>\r\n  \t\t</div>\r\n  \t\t<div class=\"mui-input-row\">\r\n  \t\t\t<label>线条颜色</label>\r\n  \t\t\t<input type=\"color\" v-model='options.lineColor'>\r\n  \t\t</div>\r\n  \t</div>\r\n  \t<button @tap='clear'>清除</button>\r\n  \t<button @tap='save'>保存</button>\r\n  \t<img :src=\"image\">\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport Draw from '@/components/Other/Draw.vue'\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\timage: '',\r\n\t\t\toptions: {\r\n\t\t\t\tbackground: '#ffffff',\r\n\t\t\t\tlineWidth: 1,\r\n\t\t\t\tlineColor: '#000000',\r\n\t\t\t\theight: 150\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tclear() {\r\n\t\t\tthis.$refs.draw.clear()\r\n\t\t},\r\n\t\tsave() {\r\n\t\t\tthis.image = this.$refs.draw.save()\r\n\t\t\t// this.clear()\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tDraw\r\n\t}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/other/draw.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('draw',{ref:\"draw\",attrs:{\"options\":_vm.options}}),_vm._v(\" \"),_c('div',{staticClass:\"mui-input-group\"},[_c('div',{staticClass:\"mui-input-row\"},[_c('label',[_vm._v(\"线条粗细\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.options.lineWidth),expression:\"options.lineWidth\",modifiers:{\"number\":true}}],attrs:{\"type\":\"number\"},domProps:{\"value\":(_vm.options.lineWidth)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"lineWidth\", _vm._n($event.target.value))},\"blur\":function($event){_vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"mui-input-row\"},[_c('label',[_vm._v(\"线条颜色\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.lineColor),expression:\"options.lineColor\"}],attrs:{\"type\":\"color\"},domProps:{\"value\":(_vm.options.lineColor)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"lineColor\", $event.target.value)}}})])]),_vm._v(\" \"),_c('button',{on:{\"tap\":_vm.clear}},[_vm._v(\"清除\")]),_vm._v(\" \"),_c('button',{on:{\"tap\":_vm.save}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":_vm.image}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25b44e84\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/other/draw.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25b44e84\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./draw.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./draw.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./draw.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25b44e84\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./draw.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/other/draw.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}